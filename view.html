<!DOCTYPE html>
<html>
<head>

  <title>viewTable</title>


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>

</head>
<body>
  <div class="container">
    <div class="jumbotron text-center">
      <h1><span class= "glyphicon glyphicon-fire"></span> Hot Restaurant</h1>
      <hr>
      <h3>Table Reservations</h3>

      <a href="/make"> <button type="button" class="btn btn-success btn-lg"><span class="glyphicon glyphicon-cutlery" id="mkreservation"></span> Make Reservation</button></a>


      <a href="/"> <button type="button" class="btn btn-success btn-lg"><span class="glyphicon glyphicon-home" id="homePage"></span></button></a>
    </div>
    <div class="row">
      <div class="col-lg-12">

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title"><strong>Current Reservations</strong></h3>
        </div>
        <div class="panel-body">
          <div class="well">
            <h2 id="tableReserve"></h2>
          </div>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title"><strong>Waitlist</strong></h3>
        </div>
        <div class="panel-body">
          <div class="well">
            <h2 id="tableWait"></h2>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">

  $.get("/api/waitlist", function(data){
    console.log(data);

    if(data){

      //[{name, phone, email, id},{}]
      for(var i = 0; i < data.length; i++)
      {
        var waitItem = $("<div>")
        .addClass("info")
        .text((i + 1) + " : " + data[i].name)
        .appendTo($("#tableWait"));
      }}
    
    }
  );

  $.get("/api/reservations", function(data){
    console.log(data);

    if(data){

      //[{name, phone, email, id},{}]
      for(var i = 0; i < data.length; i++)
      {
        var waitItem = $("<div>")
        .addClass("info")
        .text((i + 1) + " : " + data[i].name)
        .appendTo($("#tableReserve"));
      }
     
    }
  });
  </script>

</body>

</html>
